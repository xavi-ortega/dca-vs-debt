# Bitcoin Strategy

Backtesting toolkit to compare Bitcoin debt strategies vs. dollar-cost averaging (DCA) with realistic fees, loan dynamics, and liquidation risk. The codebase is a monorepo with a reusable core library, a CLI, and a web dashboard (preview at https://bitcoin-strategy.vercel.app/).

> Note: Roughly 99% of the code was generated by Codex (human input was mostly prompting, reviewing, and tweaking).

## Packages
- `packages/core`: Engine for simulations, fee models, and report builders. Exported as `@bitcoin-strategy/core`.
- `packages/cli`: Terminal client for running scenarios and printing tables.
- `packages/web`: React dashboard (Vite) for interactive charts, heatmaps, and summaries. Deployed to Vercel.

## Features
- Debt strategy simulator with LTV constraints, hysteresis band, and fee-aware rebalancing.
- DCA simulator with configurable cadence, fees, and cross-temporality comparisons.
- Reports: head-to-head debt vs. DCA, cross tables, and timeline data for charts.
- Dashboard: combined BTC value charts, liquidation risk markers, pie/heatmap comparisons, and configurable inputs.

## Quickstart
```bash
npm install                                             # installs all dependencies
npm run build                                           # builds core + cli + web
npm run web                                             # runs web
npm run cli -- --initialUSD=25000 --maxDebtPct=0.15     # runs cli
```

Requirements: Node >= 20.19.0.

## Development
- Lint: `npm run lint --workspaces`
- Web: `npm --workspace packages/web run dev`
- CLI: `npm --workspace packages/cli run cli --`
- Core: `npm --workspace packages/core run build`

## Deployment
- Web preview: https://bitcoin-strategy.vercel.app/ (built with Vercel)
- Recommended Vercel setup: root directory `.`, install `npm install`, build `npm run build`, output `packages/web/dist`.

## Data
Sample BTC OHLC datasets live under `packages/web/public/datasets/`; CSVs are expected to include ISO dates and USD prices.

## License
MIT Â© Xavi Ortega
